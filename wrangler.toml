name = "bookstore"
compatibility_date = "2025-12-29"

[assets]
directory = "client/build"

# Exclude server dependencies from bundling
[build]
command = "cd client && npm run build"

# Handle React SPA routing
[[routes]]
pattern = "/*"
fallback = "/index.html"

[env.production]
vars = { ENVIRONMENT = "production" }
